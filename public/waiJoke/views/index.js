var imgHost="http://op.ekaogo.com/waiJoke";-1<location.origin.indexOf("activity-ktv")&&(imgHost="./..");var logStr="";function log(e){}function initRouter(e){function t(e){String.prototype.filterUrl=function(){return this.replace(/#\//,"")},this.config=e,this.init=function(){var e=this;e._init(),window.addEventListener("hashchange",function(){e._init()})}}t.prototype={_init:function(){for(var e=location.hash.filterUrl().split("/"),t=document.getElementsByClassName("page"),i=0;i<t.length;i++)t[i].style.display="none";document.getElementById(e[0]||"home").style.display="block"}};new t([{url:"",templateId:"home"},{url:"joke",templateId:"joke"}]).init(),e&&e()}initRouter(function(){var e=$(document).width()/$(document).height();e<.55?($(".home").css({paddingTop:"10%"}),$(".input-wrapper").css({marginTop:"10%"}),$(".sex-wrapper").css({marginTop:"4%"}),$(".guitar-man").css({marginTop:"10%"})):.65<e&&($(".home").css({paddingTop:"1%"}),$(".title-pic").css({width:"50%"}),$(".input-wrapper").css({marginTop:"1%",width:"80%"}),$(".sex-wrapper").css({marginTop:"4%"}),$(".guitar-man").css({marginTop:"1%",width:"60%"}));var t=document.getElementById("man"),i=document.getElementById("woman"),n=document.getElementById("confirm"),o=document.getElementById("name"),s=2;t.addEventListener("click",function(){t.src=imgHost+"/resource/images/man_checked.jpg",i.src=imgHost+"/resource/images/woman.jpg",s=1},!1),i.addEventListener("click",function(){t.src=imgHost+"/resource/images/man.jpg",i.src=imgHost+"/resource/images/woman_checked.jpg",s=0},!1),n.addEventListener("click",function(){if(2!=s){var e=o.value;e?(utils.showLoading(),renderJoke(e,s,function(){utils.hideLoading(),utils.goTo("joke")})):utils.showToast("请输入名字")}else utils.showToast("请选择性别")},!1)}),utils.getSig(location.href.split("#")[0]),wx.ready(function(){var e=location.href.split("#")[0],t="http://op.ekaogo.com/waiJoke/resource/images/share.jpeg";wx.onMenuShareTimeline({title:"引爆你朋友圈的个性段子",link:e,imgUrl:t,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"你的专属段子生成器",desc:"引爆你朋友圈的个性段子",link:e,imgUrl:t,type:"",dataUrl:"",success:function(){},cancel:function(){}})}),wx.error(function(e){console.log(e)});