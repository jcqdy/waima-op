var utils={versions:function(){var n=navigator.userAgent;navigator.appVersion;return{trident:-1<n.indexOf("Trident"),presto:-1<n.indexOf("Presto"),webKit:-1<n.indexOf("AppleWebKit"),gecko:-1<n.indexOf("Gecko")&&-1==n.indexOf("KHTML"),mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<n.indexOf("Android")||-1<n.indexOf("Linux"),iPhone:-1<n.indexOf("iPhone"),iPad:-1<n.indexOf("iPad"),webApp:-1==n.indexOf("Safari"),weixin:-1<n.indexOf("MicroMessenger"),qq:" qq"==n.match(/\sQQ/i),QQ:-1<n.indexOf("QQ"),weibo:-1<n.indexOf("Weibo"),qzone:-1<n.indexOf("Qzone"),babylife:-1<n.indexOf("babylife"),facebook:-1<n.indexOf("FB"),Twitter:-1<n.indexOf("Twitter"),onLine:navigator.onLine}}(),GetQueryString:function(n){var o=window.location.search;o=o.replace(/&&/g,"&");var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),i=o.replace(/\?/g,"&").substr(1).match(e);return null!=i?i[2]:null},server:function(n,o,e,i){location.host;var a="http://op.ekaogo.com/"+n;$.ajax({url:a,type:"GET",processData:!1,dataType:"jsonp",async:!1,contentType:"application/jsonp; charset=utf-8",jsonp:"jsonpCallback",data:o}).done(function(n){e&&e(n)}).fail(function(n){e&&e(n)}).always(function(){utils.hideLoading(),console.log("complete")})},serverPost:function(n,o,e,i){location.host;var a="http://op.ekaogo.com/"+n;$.ajax({url:a,type:"POST",processData:!1,dataType:"json",async:!1,data:o}).done(function(n){e&&e(n)}).fail(function(n){e&&e(n)}).always(function(){utils.hideLoading(),console.log("complete")})},join:function(n,o,e,i,a){$.ajax({url:"http://op.ekaogo.com/"+n,type:"POST",cache:!1,contentType:!1,processData:!1,dataType:"json",async:!1,data:o}).done(function(n){e&&e(n)}).fail(function(n){e&&e(n)}).always(function(){})},back:function(n){window.location.hash="",n&&n()},goTo:function(n,o){window.location.hash="/"+n,o&&o()},showLoading:function(n){$(".loading-text").html(n||"加载中..."),$(".loading-wrapper").fadeIn(100)},hideLoading:function(n){$(".loading-wrapper").fadeOut(100)},showError:function(n){$(".error-text").html(n||"操作失败"),$(".error-wrapper").fadeIn(100),setTimeout(function(){$(".error-wrapper").fadeOut(100)},2e3)}};window.utils=utils;